# ๐ง ุฏููู ุญู ูุดููุฉ "d is not a function"

## โ ุงูุชุญุฏูุซุงุช ุงูุชู ุชูุช

### 1. ุชุญุฏูุซ `services/DatabaseService.ts`
- โ ุฅุตูุงุญ ุฏุงูุฉ `then()` ูุชููู ูุชูุงููุฉ ูุน Promise
- โ ุฅุถุงูุฉ ุฏุงูุฉ `execute()` ูููุตูุฉ ููุชูููุฐ
- โ ุฅุถุงูุฉ logging ุดุงูู ูุชุชุจุน ุงูุฃุฎุทุงุก
- โ ุฅุตูุงุญ placeholders ูู SQL ($1, $2, $3)

### 2. ุชุญุฏูุซ `electron/database.js`
- โ ุชุบููุฑ ุทุฑููุฉ ุงุณุชุฏุนุงุก `client.query()` ูุงุณุชุฎุฏุงู object
- โ ุฅุถุงูุฉ logging ููุตู ููุงุณุชุนูุงูุงุช

## ๐งช ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### ุงูุฎุทูุฉ 1: ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ูู ุงูุณูุฑูุจุช
```bash
node scripts/test-local-db.js
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** โ Connection Successful

### ุงูุฎุทูุฉ 2: ุชุดุบูู ุงูุชุทุจูู
1. ุงูุชุญ ุงูุชุทุจูู ุงููุจูู: `dist\m5zon 1.0.0.exe`
2. ุฃุฏุฎู ูุนูููุงุช ุงูุงุชุตุงู:
   - Host: `172.10.0.16`
   - Port: `5432`
   - Database: `m5zon_local`
   - User: `postgres`
   - Password: `P@$$w0rd@1234`

### ุงูุฎุทูุฉ 3: ูุญุต Console ููุฃุฎุทุงุก
1. ุงุถุบุท `F12` ููุชุญ DevTools
2. ุงุฐูุจ ุฅูู Console
3. ุงุจุญุซ ุนู ุงูุฑุณุงุฆู ุงูุชุงููุฉ:
   - `๐ Connecting to database...`
   - `โ ุชู ุงูุงุชุตุงู ุจู PostgreSQL ุจูุฌุงุญ`
   - `๐ Executing SQL:`
   - `โ Query successful`

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### ุงูุณููุงุฑูู 1: ุงูุฎุทุฃ ูุธูุฑ ุนูุฏ ุงูุงุชุตุงู
**ุงูุฃุนุฑุงุถ:** ุฑุณุงูุฉ "d is not a function" ุชุธูุฑ ููุฑุงู

**ุงูุญู:**
1. ุงูุชุญ DevTools (F12)
2. ูู Console ุงูุชุจ:
```javascript
window.electron
```
3. ุชุฃูุฏ ูู ูุฌูุฏ `database` object
4. ุฅุฐุง ูุงู `undefined`ุ ุงููุดููุฉ ูู `preload.cjs`

### ุงูุณููุงุฑูู 2: ุงูุฎุทุฃ ูุธูุฑ ุนูุฏ ุชูููุฐ ุงุณุชุนูุงู
**ุงูุฃุนุฑุงุถ:** ุงูุงุชุตุงู ูุงุฌุญ ููู ุงูุฎุทุฃ ูุธูุฑ ุนูุฏ ุฌูุจ ุงูุจูุงูุงุช

**ุงูุญู:**
1. ุงูุชุญ DevTools (F12)
2. ุงุจุญุซ ุนู ุฑุณุงูุฉ `๐ Executing SQL:`
3. ุงูุณุฎ ุงูู SQL ูุงูู parameters
4. ุงุฎุชุจุฑูุง ูุจุงุดุฑุฉ ูู pgAdmin ุฃู psql

### ุงูุณููุงุฑูู 3: ุงูุฎุทุฃ ูู ููู ูุนูู
**ุงูุฃุนุฑุงุถ:** ุงูุฎุทุฃ ูุธูุฑ ูู ุตูุญุฉ ูุญุฏุฏุฉ ููุท

**ุงูุญู:**
1. ุงูุชุญ DevTools (F12)
2. ุงุฐูุจ ุฅูู Sources
3. ูุนูู "Pause on exceptions"
4. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ
5. ุณูุชููู ุนูุฏ ุงูุณุทุฑ ุงูุฐู ูุณุจุจ ุงููุดููุฉ

## ๐ ูุนูููุงุช ุฅุถุงููุฉ ููุชุดุฎูุต

### ูุญุต localStorage
```javascript
// ูู Console
JSON.parse(localStorage.getItem("localDbConfig"))
```

### ูุญุต ุญุงูุฉ ุงูุงุชุตุงู
```javascript
// ูู Console
await window.electron.database.isConnected()
```

### ุงุฎุชุจุงุฑ ุงุณุชุนูุงู ุจุณูุท
```javascript
// ูู Console
await window.electron.database.query("SELECT NOW()", [])
```

## ๐ ุฅุนุงุฏุฉ ุงูุจูุงุก ุงููุงููุฉ

ุฅุฐุง ูู ุชูุฌุญ ุฌููุน ุงูุญููู:

```bash
# 1. ุญุฐู ุงููููุงุช ุงููุจููุฉ
rmdir /s /q dist
rmdir /s /q node_modules\.vite

# 2. ุฅุนุงุฏุฉ ุงูุจูุงุก
npm run build:electron

# 3. ุชุดุบูู ุงูุชุทุจูู
dist\m5zon 1.0.0.exe
```

## ๐ ูุนูููุงุช ุงูุฏุนู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉุ ูู ุจุฌูุน ุงููุนูููุงุช ุงูุชุงููุฉ:

1. **ูุณุฎุฉ ูู Console Log:**
   - ุงูุชุญ DevTools (F12)
   - ุงูุณุฎ ุฌููุน ุงูุฑุณุงุฆู ูู Console

2. **ูุนูููุงุช ุงููุธุงู:**
   ```javascript
   window.electron.versions
   ```

3. **ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```bash
   node scripts/test-local-db.js
   ```

4. **Screenshot ูู ุงูุฎุทุฃ**

## โจ ุงูุชุญุณููุงุช ุงูุฌุฏูุฏุฉ

- ๐ Logging ููุตู ูู ูู ุฎุทูุฉ
- ๐ก๏ธ ูุนุงูุฌุฉ ุฃูุถู ููุฃุฎุทุงุก
- ๐ง ุฏุนู ูุงูู ูู Promise/async-await
- ๐ ุนุฑุถ ุชูุตููู ููุงุณุชุนูุงูุงุช ูุงููุชุงุฆุฌ
