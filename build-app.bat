@echo off
chcp 65001 >nul
echo ========================================
echo    ุจูุงุก ุชุทุจูู M5zon ุณุทุญ ุงูููุชุจ
echo ========================================
echo.

echo [1/4] ุงูุชุญูู ูู ุงูููุชุจุงุช...
if not exist "node_modules\" (
    echo โ ุงูููุชุจุงุช ุบูุฑ ูุซุจุชุฉ!
    echo ๐ฆ ุฌุงุฑู ุชุซุจูุช ุงูููุชุจุงุช...
    call npm install
    if errorlevel 1 (
        echo โ ูุดู ุชุซุจูุช ุงูููุชุจุงุช!
        pause
        exit /b 1
    )
    echo โ ุชู ุชุซุจูุช ุงูููุชุจุงุช ุจูุฌุงุญ
) else (
    echo โ ุงูููุชุจุงุช ูุซุจุชุฉ
)
echo.

echo [2/4] ุจูุงุก ูููุงุช ุงูููุจ...
call npm run build
if errorlevel 1 (
    echo โ ูุดู ุจูุงุก ูููุงุช ุงูููุจ!
    pause
    exit /b 1
)
echo โ ุชู ุจูุงุก ูููุงุช ุงูููุจ ุจูุฌุงุญ
echo.

echo [3/4] ุจูุงุก ุชุทุจูู Electron...
call npm run build:electron
if errorlevel 1 (
    echo โ ูุดู ุจูุงุก ุชุทุจูู Electron!
    pause
    exit /b 1
)
echo โ ุชู ุจูุงุก ุชุทุจูู Electron ุจูุฌุงุญ
echo.

echo [4/4] ุงูุชุญูู ูู ุงููููุงุช ุงููุจููุฉ...
if exist "dist\m5zon Setup 1.0.0.exe" (
    echo โ ููู ุงูุชุซุจูุช: dist\m5zon Setup 1.0.0.exe
) else (
    echo โ๏ธ ููู ุงูุชุซุจูุช ุบูุฑ ููุฌูุฏ
)

if exist "dist\m5zon 1.0.0.exe" (
    echo โ ุงููุณุฎุฉ ุงููุญูููุฉ: dist\m5zon 1.0.0.exe
) else (
    echo โ๏ธ ุงููุณุฎุฉ ุงููุญูููุฉ ุบูุฑ ููุฌูุฏุฉ
)
echo.

echo ========================================
echo    โจ ุงูุชูู ุงูุจูุงุก ุจูุฌุงุญ! โจ
echo ========================================
echo.
echo ๐ ุงููููุงุช ุงููุจููุฉ ูู ูุฌูุฏ: dist\
echo.
echo ๐ฆ ููู ุงูุชุซุจูุช: m5zon Setup 1.0.0.exe
echo ๐ฆ ุงููุณุฎุฉ ุงููุญูููุฉ: m5zon 1.0.0.exe
echo.
echo ๐ ููููู ุงูุขู ุชูุฒูุน ุงูุชุทุจูู!
echo.
pause
