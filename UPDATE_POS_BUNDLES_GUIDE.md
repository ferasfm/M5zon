# ๐ฆ ุฏููู ุชุญุฏูุซ ุญุฒู POS ุงููุฏููุฉ

## ๐ฏ ุงููุฏู
ุชุญุฏูุซ ุงูุจูุงูุงุช ุงููุฏููุฉ ูุญุฒูุฉ "ููุทุฉ ุจูุน ูุงููุฉ POS" ูุชุธูุฑ ุจุดูู ุตุญูุญ ูู ุงููุทุงูุจุงุช ุงููุงููุฉ

---

## ๐ ุงูุฎุทูุงุช

### **ุงูุฎุทูุฉ 1: ุชุญุฏูุฏ ุงููุทุน** ๐

ุฃููุงูุ ูุญุชุงุฌ ูุนุฑูุฉ ุงููุทุน ุงูุชู ุชูุชูู ูุญุฒูุฉ POS

#### **ุงูุณุคุงู ุงูููู:**
**ููู ุชู ุงุณุชูุงู ุญุฒูุฉ POSุ**

- [ ] ูู ููุณ ุงูุชุงุฑูุฎุ
- [ ] ูู ููุณ ุงูููุฑุฏุ
- [ ] ูููุณ ุงูุนููู/ุงููููุนุ
- [ ] ุจููุณ ุณุจุจ ุงูุดุฑุงุกุ

---

### **ุงูุฎุทูุฉ 2: ุนุฑุถ ุงูุจูุงูุงุช** ๐

ุงูุชุญ Supabase โ SQL Editor โ ุดุบูู:

```sql
-- ุนุฑุถ ุฌููุน ุงููุทุน ุงููุณุชููุฉ ูู ูุชุฑุฉ ูุนููุฉ
SELECT 
    id,
    serial_number,
    cost_price,
    TO_CHAR(purchase_date, 'YYYY-MM-DD') as purchase_date,
    supplier_id,
    destination_client_id,
    purchase_reason
FROM inventory_items
WHERE purchase_date >= '2024-01-01'  -- ุนุฏูู ุงูุชุงุฑูุฎ ุญุณุจ ุงูุญุงุฌุฉ
AND bundle_group_id IS NULL          -- ููุท ุงููุทุน ุงูุชู ููุณุช ูู ุญุฒูุฉ
ORDER BY purchase_date DESC, supplier_id
LIMIT 50;
```

**ุงุจุญุซ ุนู:**
- ูุฌููุนุฉ ูุทุน ุงุณุชููุช ูุนุงู
- ููุณ ุงูุชุงุฑูุฎ
- ููุณ ุงูููุฑุฏ
- ููุณ ุงูุนููู

---

### **ุงูุฎุทูุฉ 3: ุชุญุฏูุฏ ุงูุทุฑููุฉ ุงูููุงุณุจุฉ** ๐ฏ

#### **ุงูุทุฑููุฉ A: ุจุงูุฃุฑูุงู ุงูุชุณูุณููุฉ (ุงูุฃุฏู)** โญ

ุฅุฐุง ููุช ุชุนุฑู ุจุงุฑ ููุฏ ูู ูุทุนุฉ:

```sql
-- ูุซุงู: ุญุฒูุฉ POS ุงูุฃููู
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_001',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN (
    'ABC123',  -- ุงุณุชุจุฏู ุจุงูุฃุฑูุงู ุงูุญููููุฉ
    'ABC124',
    'ABC125',
    'ABC126'
);
```

**ูููุฒุงุช:**
- โ ุฏููู ุฌุฏุงู
- โ ูุง ูุคุซุฑ ุนูู ูุทุน ุฃุฎุฑู
- โ ูููู ุงูุชุญูู ุงููุงูู

---

#### **ุงูุทุฑููุฉ B: ุจุงูุชุงุฑูุฎ ูุงูููุฑุฏ (ุชููุงุฆู)**

ุฅุฐุง ูุงูุช ุฌููุน ูุทุน ุงูุญุฒูุฉ ุงุณุชููุช ูุนุงู:

```sql
-- ุฃููุงู: ุนุฑุถ ุงููุทุน ููุชุญูู
SELECT 
    serial_number,
    cost_price,
    purchase_date
FROM inventory_items
WHERE purchase_date::date = '2024-11-20'  -- ุงูุชุงุฑูุฎ ุงูุตุญูุญ
AND supplier_id = 'supplier_xxx'          -- ูุนุฑู ุงูููุฑุฏ
AND bundle_group_id IS NULL;

-- ุฅุฐุง ูุงูุช ุงููุชูุฌุฉ ุตุญูุญุฉุ ูู ุจุงูุชุญุฏูุซ:
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241120_001',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE purchase_date::date = '2024-11-20'
AND supplier_id = 'supplier_xxx'
AND bundle_group_id IS NULL;
```

**ูููุฒุงุช:**
- โ ุณุฑูุน
- โ ูุญุฏุซ ูุฌููุนุงุช ูุงููุฉ
- โ๏ธ ุชุฃูุฏ ูู ุงููุชุงุฆุฌ ุฃููุงู

---

#### **ุงูุทุฑููุฉ C: ุจุงูู IDs ูุจุงุดุฑุฉ**

ุฅุฐุง ููุช ุชุนุฑู IDs ุงููุทุน:

```sql
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_001',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE id IN (
    'uuid-1',
    'uuid-2',
    'uuid-3',
    'uuid-4'
);
```

---

### **ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ุงููุชูุฌุฉ** โ

ุจุนุฏ ุงูุชุญุฏูุซุ ุชุญูู:

```sql
-- ุนุฑุถ ุฌููุน ุญุฒู POS
SELECT 
    bundle_group_id as "ูุนุฑู ุงูุญุฒูุฉ",
    bundle_name as "ุงุณู ุงูุญุฒูุฉ",
    COUNT(*) as "ุนุฏุฏ ุงููุทุน",
    SUM(cost_price) as "ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ",
    TO_CHAR(MIN(purchase_date), 'YYYY-MM-DD') as "ุชุงุฑูุฎ ุงูุงุณุชูุงู"
FROM inventory_items
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
GROUP BY bundle_group_id, bundle_name
ORDER BY MIN(purchase_date) DESC;
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
ูุนุฑู ุงูุญุฒูุฉ      | ุงุณู ุงูุญุฒูุฉ              | ุนุฏุฏ ุงููุทุน | ุงูุชูููุฉ | ุงูุชุงุฑูุฎ
------------------|-------------------------|-----------|---------|------------
bundle_pos_001    | ููุทุฉ ุจูุน ูุงููุฉ POS      | 4         | 5000    | 2024-11-20
bundle_pos_002    | ููุทุฉ ุจูุน ูุงููุฉ POS      | 4         | 5000    | 2024-11-15
```

---

### **ุงูุฎุทูุฉ 5: ุงุฎุชุจุงุฑ ุงููุทุงูุจุฉ ุงููุงููุฉ** ๐งช

1. ุงูุชุญ ุงูุจุฑูุงูุฌ
2. ุงุฐูุจ ุฅูู "ูุทุงูุจุงุช ูุงููุฉ"
3. ุงุฎุชุฑ ุงูููุฑุฏ ูุงููุชุฑุฉ
4. ุฃูุดุฆ ุงูุชูุฑูุฑ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
ูุจู ุงูุชุญุฏูุซ:
- ุดุงุดุฉ ููุณ (1) - 1500
- ุทุงุจุนุฉ ุญุฑุงุฑูุฉ (1) - 800
- ุฏุฑุฌ ูููุฏ (1) - 500
- ูุงุณุญ ุจุงุฑููุฏ (1) - 300

ุจุนุฏ ุงูุชุญุฏูุซ:
- ููุทุฉ ุจูุน ูุงููุฉ POS (1) - 3100  โ
```

---

## ๐ฏ **ูุซุงู ุนููู ูุงูู**

### **ุงูุณููุงุฑูู:**
ูุฏูู 3 ุญุฒู POS ุชู ุงุณุชูุงููุง ูู ุฃููุงุช ูุฎุชููุฉ

```sql
-- ุญุฒูุฉ POS #1 (20 ููููุจุฑ)
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241120',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN ('POS001', 'POS002', 'POS003', 'POS004');

-- ุญุฒูุฉ POS #2 (15 ููููุจุฑ)
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241115',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN ('POS005', 'POS006', 'POS007', 'POS008');

-- ุญุฒูุฉ POS #3 (10 ููููุจุฑ)
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241110',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN ('POS009', 'POS010', 'POS011', 'POS012');

-- ุงูุชุญูู
SELECT 
    bundle_group_id,
    COUNT(*) as items,
    SUM(cost_price) as total
FROM inventory_items
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
GROUP BY bundle_group_id;
```

---

## โ๏ธ **ูุตุงุฆุญ ูููุฉ**

### โ **ุงูุนู:**
1. ุงุฎุชุจุฑ ุนูู ุญุฒูุฉ ูุงุญุฏุฉ ุฃููุงู
2. ุชุญูู ูู ุงููุชุงุฆุฌ ูุจู ุชุญุฏูุซ ุงูุจุงูู
3. ุงุณุชุฎุฏู ูุนุฑูุงุช ูุฑูุฏุฉ ููู ุญุฒูุฉ
4. ุงุญุชูุธ ุจูุณุฎุฉ ุงุญุชูุงุทูุฉ

### โ **ูุง ุชูุนู:**
1. ูุง ุชุณุชุฎุฏู ููุณ `bundle_group_id` ูุญุฒู ูุฎุชููุฉ
2. ูุง ุชุญุฏุซ ูุทุน ูุง ุชูุชูู ููุญุฒูุฉ
3. ูุง ุชูุณู ุงูุชุญูู ูู ุงููุชุงุฆุฌ

---

## ๐ **ุงูุชุฑุงุฌุน ุนู ุงูุชุญุฏูุซ**

ุฅุฐุง ุญุฏุซ ุฎุทุฃ:

```sql
-- ุฅูุบุงุก ุชุญุฏูุซ ุญุฒูุฉ ูุนููุฉ
UPDATE inventory_items
SET 
    bundle_group_id = NULL,
    bundle_name = NULL
WHERE bundle_group_id = 'bundle_pos_001';

-- ุฅูุบุงุก ุฌููุน ุญุฒู POS
UPDATE inventory_items
SET 
    bundle_group_id = NULL,
    bundle_name = NULL
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS';
```

---

## ๐ **ุณูุฑูุจุช ูุญุต ุดุงูู**

```sql
-- 1. ุนุฏุฏ ุญุฒู POS
SELECT 
    '1. ุนุฏุฏ ุญุฒู POS' as test,
    COUNT(DISTINCT bundle_group_id) as bundle_count
FROM inventory_items
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS';

-- 2. ุชูุงุตูู ูู ุญุฒูุฉ
SELECT 
    '2. ุชูุงุตูู ุงูุญุฒู' as test,
    bundle_group_id,
    COUNT(*) as items,
    SUM(cost_price) as total_cost,
    TO_CHAR(MIN(purchase_date), 'YYYY-MM-DD') as date
FROM inventory_items
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
GROUP BY bundle_group_id;

-- 3. ุงููุทุน ูู ูู ุญุฒูุฉ
SELECT 
    '3. ุงููุทุน' as test,
    bundle_group_id,
    serial_number,
    cost_price
FROM inventory_items
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
ORDER BY bundle_group_id, serial_number;
```

---

## โ **ุงูุฎูุงุตุฉ**

1. **ุญุฏุฏ ุงููุทุน** ุงูุชู ุชูุชูู ูุญุฒูุฉ POS
2. **ุงุฎุชุฑ ุงูุทุฑููุฉ** ุงูููุงุณุจุฉ (ุจุงูุฃุฑูุงู ุงูุชุณูุณููุฉ ููุตู ุจู)
3. **ุญุฏูุซ ุงูุจูุงูุงุช** ุจุงุณุชุฎุฏุงู UPDATE
4. **ุชุญูู ูู ุงููุชูุฌุฉ** ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. **ุงุฎุชุจุฑ** ูู ุงููุทุงูุจุฉ ุงููุงููุฉ

---

**ูู ุชุญุชุงุฌ ูุณุงุนุฏุฉ ูู ุชุญุฏูุฏ ุงููุทุนุ** ๐ค
**ุฃุฎุจุฑูู ุจุงูุชูุงุตูู ูุณุฃุณุงุนุฏู!** ๐
