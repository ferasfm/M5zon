# ๐ ุฏููู ุงูุชุญุฏูุซ ุงููุฏูู - ุฎุทูุฉ ุจุฎุทูุฉ

## ๐ฏ **ุงููุฏู:**
ุชุญุฏูุฏ ุงููุทุน ุงูุชู ุชูุชูู ูุญุฒูุฉ POS ูุชุญุฏูุซูุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ **ุงูุฎุทูุงุช ุงููุงููุฉ:**

### **ุงูุฎุทูุฉ 1: ูุชุญ Supabase Dashboard** ๐

1. ุงูุชุญ ุงููุชุตูุญ
2. ุงุฐูุจ ุฅูู: https://supabase.com/dashboard
3. ุณุฌู ุฏุฎูู ุจุญุณุงุจู
4. ุงุฎุชุฑ ูุดุฑูุนู (m5zon ุฃู ุงุณู ูุดุฑูุนู)
5. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุถุบุท ุนูู: **"SQL Editor"**
6. ุงุถุบุท: **"New Query"**

---

### **ุงูุฎุทูุฉ 2: ุนุฑุถ ุฌููุน ุงููุทุน ุงููุชุงุญุฉ** ๐

**ุงูุณุฎ ูุงูุตู ูุฐุง ุงูููุฏ:**

```sql
-- ุนุฑุถ ุฌููุน ุงููุทุน ุงูุชู ููุณุช ูู ุญุฒูุฉ
SELECT 
    id,
    serial_number as "ุจุงุฑ ููุฏ",
    product_id as "ูุนุฑู ุงูููุชุฌ",
    cost_price as "ุงูุชูููุฉ",
    TO_CHAR(purchase_date, 'YYYY-MM-DD HH24:MI') as "ุชุงุฑูุฎ ุงูุงุณุชูุงู",
    supplier_id as "ุงูููุฑุฏ",
    destination_client_id as "ุงูุนููู",
    purchase_reason as "ุณุจุจ ุงูุดุฑุงุก"
FROM inventory_items
WHERE bundle_group_id IS NULL  -- ููุท ุงููุทุน ุงูุชู ููุณุช ูู ุญุฒูุฉ
AND purchase_date >= '2024-01-01'  -- ุนุฏูู ุงูุชุงุฑูุฎ ุญุณุจ ุงูุญุงุฌุฉ
ORDER BY purchase_date DESC, supplier_id
LIMIT 50;
```

**ุงุถุบุท:** Run (ุฃู F5)

**ุงููุชูุฌุฉ ุณุชููู ุฌุฏูู ูุซู:**
```
id          | ุจุงุฑ ููุฏ | ูุนุฑู ุงูููุชุฌ | ุงูุชูููุฉ | ุชุงุฑูุฎ ุงูุงุณุชูุงู    | ุงูููุฑุฏ | ุงูุนููู | ุณุจุจ ุงูุดุฑุงุก
------------|---------|-------------|---------|-------------------|--------|--------|------------
uuid-001    | ABC123  | prod-001    | 1500    | 2024-11-20 10:30  | sup-1  | cli-1  | ูุดุฑูุน ุฌุฏูุฏ
uuid-002    | ABC124  | prod-002    | 800     | 2024-11-20 10:31  | sup-1  | cli-1  | ูุดุฑูุน ุฌุฏูุฏ
uuid-003    | ABC125  | prod-003    | 500     | 2024-11-20 10:32  | sup-1  | cli-1  | ูุดุฑูุน ุฌุฏูุฏ
uuid-004    | ABC126  | prod-004    | 300     | 2024-11-20 10:33  | sup-1  | cli-1  | ูุดุฑูุน ุฌุฏูุฏ
```

---

### **ุงูุฎุทูุฉ 3: ุชุญุฏูุฏ ุงููุทุน ุงูุชู ุชูุชูู ูุญุฒูุฉ ูุงุญุฏุฉ** ๐

**ุงุจุญุซ ุนู ุงููุทุน ุงูุชู:**
- โ ุงุณุชููุช ูู **ููุณ ุงูุชุงุฑูุฎ** (ุฃู ูุฑูุจุฉ ุฌุฏุงู)
- โ ูู **ููุณ ุงูููุฑุฏ**
- โ ูููุณ **ุงูุนููู/ุงููููุน**
- โ ุจููุณ **ุณุจุจ ุงูุดุฑุงุก**

**ูู ุงููุซุงู ุฃุนูุงู:**
ุงููุทุน ุงูุฃุฑุจุนุฉ (ABC123, ABC124, ABC125, ABC126) ุชูุชูู ูุญุฒูุฉ ูุงุญุฏุฉ ูุฃููุง:
- โ ููุณ ุงูุชุงุฑูุฎ: 2024-11-20
- โ ููุณ ุงูููุฑุฏ: sup-1
- โ ููุณ ุงูุนููู: cli-1
- โ ููุณ ุงูุณุจุจ: ูุดุฑูุน ุฌุฏูุฏ

---

### **ุงูุฎุทูุฉ 4: ูุนุฑูุฉ ุฃุณูุงุก ุงูููุชุฌุงุช** ๐ฆ

**ููุนุฑูุฉ ูุง ูู ูุฐู ุงูููุชุฌุงุช:**

```sql
-- ุนุฑุถ ุชูุงุตูู ุงูููุชุฌุงุช
SELECT 
    i.serial_number as "ุจุงุฑ ููุฏ",
    p.name as "ุงุณู ุงูููุชุฌ",
    p.sku as "SKU",
    i.cost_price as "ุงูุชูููุฉ"
FROM inventory_items i
JOIN products p ON p.id = i.product_id
WHERE i.serial_number IN (
    'ABC123',  -- ุงุณุชุจุฏู ุจุงูุฃุฑูุงู ูู ุงูุฎุทูุฉ 2
    'ABC124',
    'ABC125',
    'ABC126'
)
ORDER BY i.purchase_date;
```

**ุงููุชูุฌุฉ:**
```
ุจุงุฑ ููุฏ | ุงุณู ุงูููุชุฌ      | SKU     | ุงูุชูููุฉ
---------|----------------|---------|--------
ABC123   | ุดุงุดุฉ ููุณ       | SCR-001 | 1500
ABC124   | ุทุงุจุนุฉ ุญุฑุงุฑูุฉ   | PRT-001 | 800
ABC125   | ุฏุฑุฌ ูููุฏ       | DRW-001 | 500
ABC126   | ูุงุณุญ ุจุงุฑููุฏ    | SCN-001 | 300
```

**ุงูุขู ุชุฃูุฏุช:** ูุฐู ุญุฒูุฉ POS! โ

---

### **ุงูุฎุทูุฉ 5: ุชุญุฏูุซ ุงููุทุน ูุญุฒูุฉ** โ

**ุงูุทุฑููุฉ A: ุจุงูุฃุฑูุงู ุงูุชุณูุณููุฉ (ุงูุฃุฏู)** โญ

```sql
-- ุชุญุฏูุซ ุญุฒูุฉ POS ุงูุฃููู
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_001',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN (
    'ABC123',  -- ุงุณุชุจุฏู ุจุงูุฃุฑูุงู ุงูุญููููุฉ ูู ุงูุฎุทูุฉ 2
    'ABC124',
    'ABC125',
    'ABC126'
);
```

**ุงุถุบุท:** Run

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
UPDATE 4
```

---

**ุงูุทุฑููุฉ B: ุจุงูุชุงุฑูุฎ ูุงูููุฑุฏ (ุฅุฐุง ูุงูุช ูู ุงูุญุฒูุฉ ูู ููุณ ุงูููู)**

```sql
-- ุชุญุฏูุซ ุญุณุจ ุงูุชุงุฑูุฎ
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241120',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE purchase_date::date = '2024-11-20'  -- ุงุณุชุจุฏู ุจุงูุชุงุฑูุฎ ูู ุงูุฎุทูุฉ 2
AND supplier_id = 'sup-1'                 -- ุงุณุชุจุฏู ุจูุนุฑู ุงูููุฑุฏ
AND destination_client_id = 'cli-1'       -- ุงุณุชุจุฏู ุจูุนุฑู ุงูุนููู
AND bundle_group_id IS NULL;
```

---

### **ุงูุฎุทูุฉ 6: ุงูุชุญูู ูู ุงููุชูุฌุฉ** โ

```sql
-- ุนุฑุถ ุงูุญุฒูุฉ ุงููุญุฏุซุฉ
SELECT 
    bundle_group_id as "ูุนุฑู ุงูุญุฒูุฉ",
    bundle_name as "ุงุณู ุงูุญุฒูุฉ",
    serial_number as "ุจุงุฑ ููุฏ",
    cost_price as "ุงูุชูููุฉ",
    TO_CHAR(purchase_date, 'YYYY-MM-DD') as "ุงูุชุงุฑูุฎ"
FROM inventory_items
WHERE bundle_group_id = 'bundle_pos_001'  -- ุงุณุชุจุฏู ุจุงููุนุฑู ุงูุฐู ุงุณุชุฎุฏูุชู
ORDER BY purchase_date;
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
ูุนุฑู ุงูุญุฒูุฉ  | ุงุณู ุงูุญุฒูุฉ              | ุจุงุฑ ููุฏ | ุงูุชูููุฉ | ุงูุชุงุฑูุฎ
-------------|-------------------------|---------|---------|------------
bundle_pos_001 | ููุทุฉ ุจูุน ูุงููุฉ POS    | ABC123  | 1500    | 2024-11-20
bundle_pos_001 | ููุทุฉ ุจูุน ูุงููุฉ POS    | ABC124  | 800     | 2024-11-20
bundle_pos_001 | ููุทุฉ ุจูุน ูุงููุฉ POS    | ABC125  | 500     | 2024-11-20
bundle_pos_001 | ููุทุฉ ุจูุน ูุงููุฉ POS    | ABC126  | 300     | 2024-11-20
```

โ **ุฅุฐุง ุธูุฑุช ุงููุชูุฌุฉ โ ูุฌุญ ุงูุชุญุฏูุซ!**

---

### **ุงูุฎุทูุฉ 7: ููุฎุต ุงูุญุฒูุฉ** ๐

```sql
-- ุนุฑุถ ููุฎุต ุงูุญุฒูุฉ
SELECT 
    bundle_group_id as "ูุนุฑู ุงูุญุฒูุฉ",
    bundle_name as "ุงุณู ุงูุญุฒูุฉ",
    COUNT(*) as "ุนุฏุฏ ุงููุทุน",
    SUM(cost_price) as "ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ",
    TO_CHAR(MIN(purchase_date), 'YYYY-MM-DD') as "ุชุงุฑูุฎ ุงูุงุณุชูุงู"
FROM inventory_items
WHERE bundle_group_id = 'bundle_pos_001'
GROUP BY bundle_group_id, bundle_name;
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
ูุนุฑู ุงูุญุฒูุฉ  | ุงุณู ุงูุญุฒูุฉ              | ุนุฏุฏ ุงููุทุน | ุงูุชูููุฉ ุงูุฅุฌูุงููุฉ | ุชุงุฑูุฎ ุงูุงุณุชูุงู
-------------|-------------------------|-----------|-------------------|---------------
bundle_pos_001 | ููุทุฉ ุจูุน ูุงููุฉ POS    | 4         | 3100              | 2024-11-20
```

---

### **ุงูุฎุทูุฉ 8: ุชุญุฏูุซ ุญุฒู ุฅุถุงููุฉ (ุฅุฐุง ูุฌุฏุช)** ๐

**ุฅุฐุง ูุงู ูุฏูู ุญุฒูุฉ ุซุงููุฉ:**

1. ุงุฑุฌุน ููุฎุทูุฉ 2
2. ุงุจุญุซ ุนู ูุฌููุนุฉ ูุทุน ุฃุฎุฑู
3. ุงุณุชุฎุฏู ูุนุฑู ูุฎุชูู:

```sql
-- ุญุฒูุฉ POS ุงูุซุงููุฉ
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_002',  -- ูุนุฑู ูุฎุชูู!
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN (
    'DEF123',  -- ุฃุฑูุงู ุงูุญุฒูุฉ ุงูุซุงููุฉ
    'DEF124',
    'DEF125',
    'DEF126'
);
```

**โ๏ธ ููู:** ุงุณุชุฎุฏู ูุนุฑู ูุฑูุฏ ููู ุญุฒูุฉ!

---

## ๐ฏ **ูุซุงู ุนููู ูุงูู:**

### **ุงูุณููุงุฑูู:**
ูุฏูู ุญุฒูุชู POS ูุณุชููุชูู ูู ุฃููุงุช ูุฎุชููุฉ

### **ุงูุฎุทูุงุช:**

#### **1. ุนุฑุถ ุงูุจูุงูุงุช:**
```sql
SELECT 
    serial_number,
    cost_price,
    TO_CHAR(purchase_date, 'YYYY-MM-DD') as date
FROM inventory_items
WHERE bundle_group_id IS NULL
ORDER BY purchase_date DESC
LIMIT 20;
```

#### **2. ุงููุชูุฌุฉ:**
```
serial_number | cost_price | date
--------------|------------|------------
ABC123        | 1500       | 2024-11-20
ABC124        | 800        | 2024-11-20
ABC125        | 500        | 2024-11-20
ABC126        | 300        | 2024-11-20
DEF123        | 1500       | 2024-10-15
DEF124        | 800        | 2024-10-15
DEF125        | 500        | 2024-10-15
DEF126        | 300        | 2024-10-15
```

#### **3. ุชุญุฏูุฏ ุงูุญุฒู:**
- **ุงูุญุฒูุฉ 1:** ABC123-126 (ุชุงุฑูุฎ 2024-11-20)
- **ุงูุญุฒูุฉ 2:** DEF123-126 (ุชุงุฑูุฎ 2024-10-15)

#### **4. ุชุญุฏูุซ ุงูุญุฒูุฉ ุงูุฃููู:**
```sql
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241120',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN ('ABC123', 'ABC124', 'ABC125', 'ABC126');
```

#### **5. ุชุญุฏูุซ ุงูุญุฒูุฉ ุงูุซุงููุฉ:**
```sql
UPDATE inventory_items
SET 
    bundle_group_id = 'bundle_pos_20241015',
    bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
WHERE serial_number IN ('DEF123', 'DEF124', 'DEF125', 'DEF126');
```

#### **6. ุงูุชุญูู:**
```sql
SELECT 
    bundle_group_id,
    COUNT(*) as items,
    SUM(cost_price) as total,
    TO_CHAR(MIN(purchase_date), 'YYYY-MM-DD') as date
FROM inventory_items
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS'
GROUP BY bundle_group_id
ORDER BY MIN(purchase_date) DESC;
```

#### **7. ุงููุชูุฌุฉ:**
```
bundle_group_id      | items | total | date
---------------------|-------|-------|------------
bundle_pos_20241120  | 4     | 3100  | 2024-11-20
bundle_pos_20241015  | 4     | 3100  | 2024-10-15
```

โ **ุชู ุจูุฌุงุญ!**

---

## โ๏ธ **ูุตุงุฆุญ ูููุฉ:**

### **1. ูุนุฑู ุงูุญุฒูุฉ (bundle_group_id):**
```
โ ูุฌุจ ุฃู ูููู ูุฑูุฏ ููู ุญุฒูุฉ
โ ุงุณุชุฎุฏู ููุท ูุงุถุญ ูุซู:
   - bundle_pos_001, bundle_pos_002, ...
   - bundle_pos_20241120, bundle_pos_20241015, ...
   - bundle_[date]_[number]

โ ูุง ุชุณุชุฎุฏู ููุณ ุงููุนุฑู ูุญุฒู ูุฎุชููุฉ!
```

### **2. ุงุณู ุงูุญุฒูุฉ (bundle_name):**
```
โ ูููู ุฃู ูููู ููุณ ุงูุงุณู ูุฌููุน ุงูุญุฒู
โ ูุซุงู: "ููุทุฉ ุจูุน ูุงููุฉ POS"
โ ุฃู: "ุญุฒูุฉ POS - ูููุน A"
```

### **3. ุงูุชุญูู ูุจู ุงูุชุญุฏูุซ:**
```
โ ุชุฃูุฏ ูู ุงูุฃุฑูุงู ุงูุชุณูุณููุฉ
โ ุชุฃูุฏ ูู ุงูุชุงุฑูุฎ
โ ุชุฃูุฏ ูู ุงูููุฑุฏ ูุงูุนููู
โ ุนุฏู ุงููุทุน (ูุฌุจ ุฃู ุชููู ููุทููุฉ)
```

---

## ๐ **ุงูุชุฑุงุฌุน ุนู ุงูุชุญุฏูุซ:**

**ุฅุฐุง ุญุฏุซ ุฎุทุฃ:**

```sql
-- ุฅูุบุงุก ุชุญุฏูุซ ุญุฒูุฉ ูุนููุฉ
UPDATE inventory_items
SET 
    bundle_group_id = NULL,
    bundle_name = NULL
WHERE bundle_group_id = 'bundle_pos_001';

-- ุฃู ุฅูุบุงุก ุฌููุน ุญุฒู POS
UPDATE inventory_items
SET 
    bundle_group_id = NULL,
    bundle_name = NULL
WHERE bundle_name = 'ููุทุฉ ุจูุน ูุงููุฉ POS';
```

---

## ๐ **ูุงุฆูุฉ ุงูุชุญูู:**

- [ ] ูุชุญุช Supabase Dashboard
- [ ] ูุชุญุช SQL Editor
- [ ] ุนุฑุถุช ุฌููุน ุงููุทุน (ุงูุฎุทูุฉ 2)
- [ ] ุญุฏุฏุช ุงููุทุน ุงูุชู ุชูุชูู ูุญุฒูุฉ (ุงูุฎุทูุฉ 3)
- [ ] ุชุญููุช ูู ุฃุณูุงุก ุงูููุชุฌุงุช (ุงูุฎุทูุฉ 4)
- [ ] ุญุฏุซุช ุงููุทุน (ุงูุฎุทูุฉ 5)
- [ ] ุชุญููุช ูู ุงููุชูุฌุฉ (ุงูุฎุทูุฉ 6)
- [ ] ุนุฑุถุช ููุฎุต ุงูุญุฒูุฉ (ุงูุฎุทูุฉ 7)
- [ ] ูุฑุฑุช ููุญุฒู ุงูุฅุถุงููุฉ (ุงูุฎุทูุฉ 8)

---

## ๐ฏ **ุงูุฎูุงุตุฉ:**

### **ุงูุฎุทูุงุช ุงูุฃุณุงุณูุฉ:**
1. ุนุฑุถ ุงููุทุน
2. ุชุญุฏูุฏ ุงูุญุฒูุฉ
3. ุชุญุฏูุซ ุงููุทุน
4. ุงูุชุญูู

### **ุงูููุช ุงููุชููุน:**
- ุญุฒูุฉ ูุงุญุฏุฉ: 5 ุฏูุงุฆู
- 2-3 ุญุฒู: 10 ุฏูุงุฆู
- ุฃูุซุฑ ูู 5 ุญุฒู: 15-20 ุฏูููุฉ

### **ุงูุตุนูุจุฉ:**
๐ข ุณูู - ูุณุฎ ููุตู ูุงุณุชุจุฏุงู ุงูุฃุฑูุงู

---

**ูู ุชุญุชุงุฌ ูุณุงุนุฏุฉ ูู ุฃู ุฎุทูุฉุ** ๐ค
